<div x-data="{ open: false }" x-cloak>
    <!-- Botón trigger -->
    <button 
        @click="open = true" 
        class="{{ button_class|default:'btn btn-error bg-red-500 text-white hover:bg-red-600 px-4 py-2 rounded-md text-sm' }}"
        type="button">
        {{ button_text|default:"Eliminar" }}
    </button>
    
    <!-- Modal Overlay -->
    <div 
        x-show="open" 
        class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
        @click.self="open = false"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0">
        
        <!-- Modal Box -->
        <div 
            class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 transform scale-90"
            x-transition:enter-end="opacity-100 transform scale-100"
            x-transition:leave="transition ease-in duration-200"
            x-transition:leave-start="opacity-100 transform scale-100"
            x-transition:leave-end="opacity-0 transform scale-90">
            
            <div class="p-6">
                <h3 class="font-bold text-lg text-gray-900 mb-4">{{ modal_title|default:"¿Estás seguro?" }}</h3>
                <p class="text-gray-600 mb-6">{{ modal_message|default:"Esta acción no se puede deshacer." }}</p>
                
                <div class="flex gap-3 justify-end">
                    <button 
                        @click="open = false" 
                        class="btn btn-ghost bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-md text-sm">
                        Cancelar
                    </button>
                    
                    <form method="post" action="{{ action_url }}" style="display: inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-error bg-red-500 text-white hover:bg-red-600 px-4 py-2 rounded-md text-sm">
                            {{ confirm_text|default:"Confirmar" }}
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Ocultar elementos con x-cloak hasta que Alpine cargue */
[x-cloak] { display: none !important; }
</style>

